import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';
import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import AsyncStorage from '@react-native-async-storage/async-storage';

const resources = {
  fr: {
    translation: {
      // ----------- Boutique / Shop -----------
      shop: {
        title: 'Boutique',
        subtitle: 'Ornements et fonctionnalit√©s pour enrichir vos souffles',
        item_popular: 'Populaire',
        item_includes: "Inclus dans l'article",
        sections_backgrounds: 'Fonds premium',
        sections_tickets: 'Tickets et cr√©dits',
        ethics_title: "Notre √©thique",
        ethics_text: "Aucune incitation, pas d‚Äôabonnement, achats √©thiques uniquement pour enrichir votre exp√©rience.",
        legal_title: "Informations l√©gales",
        legal_text: "Les achats sont valables uniquement sur cet appareil. Aucune donn√©e n‚Äôest revendue.",
        login_prompt_title: "Cr√©er un compte pour acheter",
        login_prompt_text: "Connectez-vous pour profiter des achats premium.",
        login_prompt_button: "Cr√©er un compte",
        item_button_buy: "Acheter pour {{price}}",
        item_button_offer: "Offrir pour {{price}}",
        item_button_processing: "Achat en cours...",
        item_alert_account_required_title: "Compte requis",
        item_alert_account_required_text: "Vous devez √™tre connect√© pour acheter cet article.",
        item_alert_account_required_cta: "Cr√©er un compte",
        item_alert_thanks_title: "Merci !",
        item_alert_thanks_text: "Vous venez d‚Äôoffrir un cadeau √† la communaut√©.",
        item_alert_thanks_cta: "Fermer",
        item_alert_purchase_success_title: "Achat r√©ussi",
        item_alert_purchase_success_text: "L‚Äôarticle a bien √©t√© ajout√© √† votre inventaire.",
        item_alert_purchase_success_cta: "Continuer",
        item_alert_error_title: "Erreur",
        item_alert_error_text: "Impossible de finaliser l‚Äôachat. R√©essayez plus tard.",
        items: {
          ticket_pack_5: {
            name: "Pack de 5 tickets",
            description: "D√©bloquez 5 r√©v√©lations √† distance.",
            benefit1: "R√©v√©lez des souffles √©loign√©s",
            benefit2: "Utilisable n‚Äôimporte o√π",
            benefit3: "Sans expiration",
          },
          suspended_ticket: {
            name: "Ticket suspendu",
            description: "Offrez un ticket √† la communaut√©.",
            benefit1: "Donnez un ticket au hasard",
            benefit2: "Fait appara√Ætre un cadeau sur la carte",
            benefit3: "Renforce l‚Äôesprit collectif",
            benefit4: "Cr√©e du lien local",
          },
          background_mist: {
            name: "Brume mystique",
            description: "Un voile √©th√©r√© pour vos souffles.",
            benefit1: "Design exclusif",
            benefit2: "Valorise vos souffles",
            benefit3: "√âph√©m√®re et po√©tique",
          },
          background_sunray: {
            name: "Rayons de soleil",
            description: "Illuminez vos messages avec une aura dor√©e.",
            benefit1: "Apparence lumineuse",
            benefit2: "Effet unique sur la carte",
            benefit3: "R√©serv√© aux explorateurs",
          },
          background_autumn: {
            name: "Feuilles d‚Äôautomne",
            description: "Pour des souffles aux couleurs chaleureuses.",
            benefit1: "D√©cor saisonnier",
            benefit2: "Id√©al pour messages doux",
            benefit3: "Limit√© dans le temps",
          },
        },
      },

      // ----------- Navigation & Tabs -----------
      tabs: {
        map: 'Carte',
        dashboard: 'Tableau de bord',
        moderation: 'Mod√©ration',
        about: '√Ä propos',
        settings: 'Param√®tres',
      },

      // ----------- Main Map Screen -----------
      title: 'Silagora',
      subtitle: '"Un message d√©pos√© en ce lieu ne pourra √™tre lu que par ceux qui fouleront ce m√™me sol"',
      activeSouffles_one: '{{count}} souffle actif',
      activeSouffles_other: '{{count}} souffles actifs',
      read: 'contempler',
      write: 'composer',
      locating: 'Recherche de votre position...',
      locationRequired: 'Position requise',
      locationRequiredToExplore: 'Position requise pour explorer',
      locationRequiredForDeposit: 'Votre position est n√©cessaire pour d√©poser un souffle. Voulez-vous activer la localisation ?',
      approachAura: 'Approchez-vous d\'un halo pour r√©v√©ler un souffle...',
      chooseLocation: 'Choisissez un lieu pour y d√©poser votre trace...',
      retry: 'R√©essayer',
      later: 'Plus tard',
      activate: 'Activer',
      tooFar: 'Trop loin',
      tooFarDescription: 'Vous devez vous approcher √† moins de 15 m√®tres pour r√©v√©ler ce souffle.',
      loadingMap: 'Pr√©paration de la carte aquarelle...',
      clearSimulatedSoufflesTitle: 'Nettoyer la carte ?',
      clearSimulatedSoufflesMessage: 'Cette action va supprimer tous les souffles simul√©s de la carte. Vos propres souffles ne seront pas affect√©s. Continuer ?',
      clear: 'Nettoyer',
      mapCleared: 'Carte nettoy√©e',
      mapClearedMessage: 'Les souffles simul√©s ont √©t√© effac√©s.',
      
      souffleRevealedTitle: 'Souffle r√©v√©l√© ! ‚ú®',
      souffleRevealedMessage: 'Un nouveau message s\'√©panouit sous vos pas...',
      prepareContemplativeSpace: 'Pr√©paration de votre espace contemplatif',
      locationFound: 'Position trouv√©e !',
      spaceReady: 'Votre espace est pr√™t',
      locationErrorTitle: 'Erreur de localisation',
      locationErrorMessage: 'Impossible d\'obtenir votre position',
      processing: 'Traitement...',
      preparingPurchase: 'Pr√©paration de votre achat',
      purchaseSuccess: 'Achat r√©ussi !',
      newOrnamentsAvailable: 'Vos nouveaux ornements sont disponibles',
      purchaseErrorTitle: 'Erreur d\'achat',
      purchaseErrorMessage: 'Impossible de finaliser la transaction',
      cancel: 'Annuler',
      justNow: '√† l\'instant',
      minutesAgo: 'il y a {{count}} min',
      hoursAgo: 'il y a {{count}}h',
      souffleRevealed: 'Souffle r√©v√©l√©',
      locationPermissionDeniedTitle: 'Permission de localisation refus√©e',
      locationPermissionDeniedMessage: 'La permission de localisation est refus√©e en permanence. Veuillez l\'activer manuellement dans les param√®tres de votre appareil.',
      openSettings: 'Ouvrir les param√®tres',

      // ----------- Souffle Modal (composer un souffle) -----------
      depositBreath: 'Composer un souffle',
      leaveYourTrace: 'Laissez votre trace en ce lieu',
      anonymousMode: 'Mode anonyme',
      anonymousDepositText: 'Votre souffle sera d√©pos√© de mani√®re anonyme. Il flottera librement, sans √™tre li√© √† une identit√©.',
      breathPlaceholder: 'Que souhaitez-vous murmurer √† ce lieu ?',
      charactersRemaining_one: '{{count}} caract√®re restant',
      charactersRemaining_other: '{{count}} caract√®res restants',
      chosenOrnament: 'Ornement choisi :',
      addSticker: 'Ajouter un ornement',
      hideStickers: 'Masquer les ornements',
      emotionsCategory: '√âmotions',
      natureCategory: 'Nature',
      objectsCategory: 'Objets',
      symbolsCategory: 'Symboles',
      premiumOrnamentsNote: '‚ú® Trouvez des tickets suspendus sur la carte pour d√©bloquer les ornements premium !',
      breathDuration: 'Dur√©e de vie du souffle',
      hours24: '24 heures',
      hours48: '48 heures',
      locationAnchorText: 'Votre souffle sera ancr√© √† ce lieu pr√©cis, comme une empreinte invisible',
      poeticQuoteSouffle: 'Un souffle d√©pos√© ici ne pourra √™tre r√©v√©l√© que par ceux qui fouleront ce m√™me sol, cr√©ant une rencontre fortuite entre √¢mes errantes.',
      depositHere: 'D√©poser d√©licatement',
      depositing: 'D√©p√¥t en cours...',
      breathDeposited: 'Souffle d√©pos√©',
      breathDepositedMessage: 'Votre souffle a √©t√© d√©licatement d√©pos√© en ce lieu. Il flottera maintenant dans l\'attente d\'√™tre d√©couvert.',

      // ----------- Dashboard -----------
      dashboard: {
        title: 'Tableau de bord',
        subtitle: 'Vos statistiques personnelles',
        welcome: 'Bonjour, {{pseudo}} üå∏',
        anonymous: {
          title: 'Cr√©ez un compte pour voir vos statistiques',
          text: 'D√©couvrez votre empreinte po√©tique sur le territoire, vos achievements et votre progression.',
        },
        stats: {
          created: 'Souffles cr√©√©s',
          createdSubtitle: 'Vos traces d√©pos√©es',
          revealed: 'Souffles r√©v√©l√©s',
          revealedSubtitle: 'D√©couvertes faites',
          distance: 'Distance parcourue',
          distanceSubtitle: 'En explorant',
          activeDays: 'Jours actifs',
          activeDaysSubtitle: 'Depuis le d√©but',
        },
        emotion: {
          title: 'Votre √©motion signature',
          subtitle: 'L\'√©motion que vous exprimez le plus souvent',
        },
        weeklyActivity: {
          title: 'Activit√© de la semaine',
        },
        achievements: {
          title: 'Achievements',
          subtitle: 'D√©bloquez des r√©compenses en explorant Silagora',
          achievementUnlocked: 'D√©bloqu√©',
        },
        advancedStats: {
          title: 'Statistiques avanc√©es',
          streak: 'Plus longue s√©rie',
          streakUnit_one: '{{count}} jour',
          streakUnit_other: '{{count}} jours',
          places: 'Lieux visit√©s',
          achievementsCount: 'Achievements',
        },
      },

      // ----------- Emotions -----------
      emotions: {
        joyeux: 'Joyeux(se)',
        triste: 'Triste',
        colere: 'En col√®re',
        anxieux: 'Anxieux(se)',
        aimant: 'Aimant(e)',
        fatigue: 'Fatigu√©(e)',
        detendu: 'D√©tendu(e)',
        pensif: 'Pensif(ve)',
        bouleverse: 'Boulevers√©(e)',
        apaise: 'Apais√©(e)',
        perdu: 'Perdu(e)',
        ironique: 'Ironique',
        silencieux: 'Silencieux(se)',
        emu: '√âmu(e)',
        honteux: 'Honteux(se)',
      },

      // ----------- Moderation -----------
      moderation: {
        title: 'Mod√©ration Citoyenne',
        subtitle: 'Contribuez √† un espace bienveillant',
        approveTitle: 'Approuver ce souffle ?',
        approveMessage: 'Voulez-vous vraiment approuver ce souffle ? Il sera alors visible par tous les utilisateurs.',
        approveConfirm: 'Approuver',
        approvedConfirmation: 'Souffle approuv√© et rendu visible.',
        rejectTitle: 'Rejeter ce souffle ?',
        rejectMessage: 'Voulez-vous vraiment rejeter ce souffle ? Il sera d√©finitivement masqu√© et supprim√© de la carte.',
        rejectConfirm: 'Rejeter',
        rejectedConfirmation: 'Souffle rejet√© et masqu√©.',
        notAuthorizedTitle: 'Acc√®s non autoris√©',
        notAuthorizedText: 'La mod√©ration est r√©serv√©e aux utilisateurs avec un compte premium.',
        emptyQueue: 'File de mod√©ration vide',
        emptyQueueSubtext: 'Aucun souffle signal√© en attente de r√©vision pour le moment. Tout est calme !',
        refresh: 'Rafra√Æchir',
        souffleId: 'ID du souffle',
        approve: 'Approuver',
        reject: 'Rejeter',
      },

      // ----------- Settings -----------
      settings: {
        audio: {
          title: "Exp√©rience Audio Immersive",
          subtitle: "Sons adaptatifs, spatiaux et contextuels pour une immersion totale",
          enable: "Activer l'exp√©rience audio",
          volume: "Volume principal",
          theme: "Univers sonore",
          immersiveFeatures: "Fonctionnalit√©s immersives",
          spatial: "Audio spatial",
          adaptive: "Volume adaptatif",
          contextual: "Sons contextuels",
          statusActive: "Exp√©rience immersive active",
          statusPaused: "Ambiance en pause",
          description: "L'exp√©rience audio immersive s'adapte automatiquement √† vos actions : sons de proximit√© quand vous approchez d'un souffle, ambiance douce pendant la composition, effets spatiaux dans les lieux d'√©cho.",
        },
        personalizeJourney: 'Personnalisez votre voyage contemplatif',
        appLanguage: 'Langue de l\'application',
        languageSubtitle: 'La langue dans laquelle souffle votre monde',
        languageDefault: 'Fran√ßais (par d√©faut)',
        visualMode: 'Mode visuel',
        visualSubtitle: 'Votre regard est-il fait de lumi√®re ou d\'encre noire ?',
        enableNightMode: 'Activer le mode nuit',
        adaptToDaylight: 'Adapter au cycle du jour',
        visualModeNote: 'üåô Le mode visuel sera appliqu√© lors du prochain red√©marrage de l\'application',
        breathRadius: 'Rayon de souffle',
        radiusSubtitle: '√Ä quelle distance voulez-vous que le vent vous √©coute ?',
        privacy: 'Confidentialit√© & mod√©ration',
        privacySubtitle: 'Un espace s√ªr pour que chaque souffle puisse s\'√©panouir',
        hideExactLocation: 'Cacher ma position exacte',
        moderatedReading: 'Lecture mod√©r√©e des souffles sensibles',
        participateModeration: 'Participer √† la mod√©ration citoyenne',
        notifications: 'Notifications',
        notificationsSubtitle: 'Faut-il qu\'un √©cho vous pr√©vienne ?',
        notifyWhenRead: 'M\'avertir quand un souffle est lu',
        notifyNearby: 'M\'avertir des nouveaux souffles proches',
        onlyWhenMoving: 'Seulement si je suis en d√©placement',
        personalHistory: 'Historique personnel',
        historySubtitle: 'Les traces que vous choisissez de garder',
        saveDrafts: 'Conserver les brouillons non d√©pos√©s',
        keepHistory: 'Voir les lieux o√π j\'ai souffl√© (7 jours)',
        clearTraces: 'Effacer mes traces',
        aboutUs: '√Ä propos',
        aboutSubtitle: 'Qui sommes-nous ? Pourquoi ce vent ?',
        readManifesto: 'Lire le manifeste',
        openSource: 'Projet open-source',
        contactModeration: 'Contact & mod√©ration',
        version: 'Version {{version}}',
        resetPreferences: 'Effacer les pr√©f√©rences locales',
        account: 'Compte',
        accountInfo: 'Informations de votre compte',
        createAccountPrompt: 'Cr√©ez un compte pour sauvegarder vos pr√©f√©rences',
        contact: 'Contact :',
        pseudo: 'Pseudo :',
        memberSince: 'Membre depuis :',
        logout: 'Se d√©connecter',
        logoutConfirm: '√ätes-vous s√ªr de vouloir vous d√©connecter ?',
        createAccount: 'Cr√©er un compte',
        alreadyHaveAccount: 'J\'ai d√©j√† un compte',
        anonymousText: 'Vous utilisez Silagora en mode contemplatif anonyme. Cr√©ez un compte pour :',
        anonymousFeature1: '‚Ä¢ Sauvegarder vos pr√©f√©rences',
        anonymousFeature2: '‚Ä¢ Synchroniser entre appareils',
        anonymousFeature3: '‚Ä¢ Acc√©der aux ornements premium',
        anonymousFeature4: '‚Ä¢ Participer √† la mod√©ration bienveillante',
        discoverShop: 'D√©couvrir la boutique',
        resetSettingsTitle: 'Repartir d\'une page blanche',
        resetSettingsMessage: 'Cela effacera tous vos param√®tres et pr√©f√©rences. Cette action est irr√©versible.',
        settingsCleared: 'Param√®tres effac√©s',
        settingsClearedMessage: 'Tous vos param√®tres ont √©t√© remis √† z√©ro.',
        clearTracesTitle: 'Effacer mes traces',
        clearTracesMessage: 'Cela supprimera d√©finitivement tous vos souffles et votre historique local.',
        tracesCleared: 'Traces effac√©es',
        tracesClearedMessage: 'Votre historique local a √©t√© supprim√©.',
        citizenModerationTitle: 'Mod√©ration citoyenne',
        citizenModerationIntro: 'La mod√©ration citoyenne permet √† la communaut√© de maintenir un espace bienveillant et respectueux.',
        howItWorksColon: 'Comment √ßa fonctionne :',
        moderationPoint1: '‚Ä¢ Chaque membre authentifi√© peut signaler un souffle jug√© inappropri√©.',
        moderationPoint2: '‚Ä¢ Le souffle signal√© est temporairement masqu√© et soumis √† l\'IA pour une premi√®re analyse.',
        moderationPoint3: '‚Ä¢ Si l\'IA confirme un probl√®me, le souffle est soumis √† une revue par un panel de mod√©rateurs citoyens.',
        moderationPoint4: '‚Ä¢ Un souffle est d√©finitivement masqu√© apr√®s un certain nombre de signalements ou la validation par des mod√©rateurs.',
        moderationCriteriaColon: 'Crit√®res de mod√©ration :',
        criteriaPoint1: '‚Ä¢ Pas de contenu haineux, discriminatoire ou violent.',
        criteriaPoint2: '‚Ä¢ Pas de harc√®lement, d\'intimidation ou de menaces.',
        criteriaPoint3: '‚Ä¢ Pas de contenu publicitaire, spam ou promotionnel.',
        criteriaPoint4: '‚Ä¢ Pas de divulgation d\'informations personnelles (t√©l√©phone, email, adresse, etc.).',
        moderationParticipationNote: 'Votre participation est volontaire et contribue √† un espace plus s√ªr pour tous.',
        understood: 'Compris',
        shop: 'Boutique',
      },

      // ----------- About -----------
      about: {
        title: '√Ä propos de Silagora',
        etymology: 'du latin "silere" (se taire) et du grec "agora" (place publique)',
        description: "Une carte sensible de l'expression humaine anonyme, libre et g√©olocalis√©e.",
        philosophy: {
          title: 'Notre philosophie',
          text1: "Dans un monde satur√© de bruit num√©rique, Silagora offre un espace de silence et de contemplation. Chaque souffle d√©pos√© est une trace √©ph√©m√®re, un murmure dans l'espace et le temps.",
          text2: "Nous croyons en la beaut√© de l'anonymat, en la po√©sie du temporaire, et en la magie des rencontres fortuites.",
        },
        howItWorks: {
          title: 'Comment √ßa marche',
          step1: { title: 'Composer un souffle', text: '√âcrivez un message court (280 caract√®res max) et d√©posez-le d√©licatement √† votre position actuelle. Ajoutez un ornement pour enrichir votre expression.' },
          step2: { title: 'Explorer la carte aquarelle', text: 'D√©couvrez les halos translucides qui flottent autour de vous. Chaque bulle cache un souffle d√©pos√© par un autre voyageur.' },
          step3: { title: 'R√©v√©ler les souffles', text: "Approchez-vous physiquement d'un halo (dans un rayon de 15 m√®tres) pour r√©v√©ler le message qu'il contient." },
        },
        ephemeral: {
          title: "L'art de l'√©ph√©m√®re",
          text1: 'Chaque souffle a une dur√©e de vie limit√©e : 24 ou 48 heures. Pass√© ce d√©lai, il s\'√©vapore naturellement, laissant place √† de nouveaux murmures.',
          text2: 'Cette temporalit√© encourage la spontan√©it√© et pr√©serve la fra√Æcheur de chaque d√©couverte.',
        },
        echoPlaces: {
          title: "Les Lieux d'√âcho",
          text: "Quand plusieurs souffles se croisent en un m√™me lieu, na√Æt un Lieu d'√âcho. Ces espaces particuliers deviennent des carrefours po√©tiques o√π les voix se m√™lent.",
        },
        ethics: {
          title: 'Notre √©thique',
          point1: '‚Ä¢ Anonymat total : aucun profil, aucun suivi',
          point1Short: 'Anonymat total',
          point2: '‚Ä¢ Pas de likes, partages ou statistiques',
          point3: '‚Ä¢ Mod√©ration communautaire bienveillante',
          point4: '‚Ä¢ Respect de la vie priv√©e et des donn√©es',
          point5: '‚Ä¢ Sobri√©t√© num√©rique et design contemplatif',
          point5Short: 'Sobri√©t√© num√©rique',
        },
        contact: {
          title: 'Nous contacter',
          email: 'contact@silagora.app',
          openSource: 'Projet open-source',
        },
        quote: {
          text: '"Dans le silence de l\'agora num√©rique, chaque souffle devient une √©toile √©ph√©m√®re qui guide les √¢mes errantes vers des rencontres inattendues."',
          author: 'L\'√©quipe Silagora',
        },
        version: 'Version {{version}}',
        hackathonCredit: 'Fait avec üíô pour le Hackathon Bolt ‚Ä¢ Juin 2025',
      },

      // SECTION COMMUNE AJOUT√âE
      common: {
        tooFarToRevealTitle: "Trop Loin pour R√©v√©ler",
        tooFarToRevealMessage: "Vous √™tes √† {{distance}}m. Pour r√©v√©ler ce souffle, vous devez √™tre plus proche ou utiliser un de vos {{ticketCount}} tickets.",
        useOneTicket: "Utiliser 1 ticket",
        cancel: "Annuler",
        souffleRevealed: "Souffle R√©v√©l√© !",
        ticketsRemaining_one: "Il vous reste {{count}} ticket.",
        ticketsRemaining_other: "Il vous reste {{count}} tickets.",
        ticketsExhausted: "Plus de tickets",
        visitShopForMoreTickets: "Visitez la boutique pour obtenir plus de tickets.",
        functionalityReserved: "Fonctionnalit√© r√©serv√©e",
        accountRequiredForDistantReveal: "La r√©v√©lation √† distance requiert un compte pour g√©rer vos tickets."
      },

      // ----------- Achievements -----------
      achievements: {
        first_souffle: {
          title: 'Premier Souffle',
          description: 'D√©poser votre premier souffle',
        },
        explorer: {
          title: 'Explorateur',
          description: 'R√©v√©ler 10 souffles',
        },
        poet: {
          title: 'Po√®te Urbain',
          description: 'Cr√©er 25 souffles',
        },
        wanderer: {
          title: 'Vagabond',
          description: 'Parcourir 10 km en explorant',
        },
        consistent: {
          title: 'R√©gulier',
          description: 'Utiliser Silagora 7 jours cons√©cutifs',
        },
        social: {
          title: 'Connecteur',
          description: 'R√©v√©ler des souffles dans 5 lieux diff√©rents',
        },
      },

      // ----------- Master Login -----------
      masterLogin: {
        title: 'Acc√®s Ma√Ætre',
        subtitle: 'Zone r√©serv√©e aux d√©veloppeurs',
        error: {
          emptyCode: 'Veuillez entrer le code ma√Ætre.',
          incorrectCode: 'Code ma√Ætre incorrect. Acc√®s non autoris√©.',
          creationFailed: '√âchec de la cr√©ation du compte ma√Ætre.',
        },
        success: {
          title: 'Acc√®s Ma√Ætre accord√©',
          message: 'Bienvenue, D√©veloppeur ! Votre compte ma√Ætre a √©t√© activ√© avec tous les privil√®ges.',
        },
        instructions: {
          title: 'Authentification D√©veloppeur',
          text: 'Veuillez entrer le code ma√Ætre fourni pour acc√©der aux fonctionnalit√©s de d√©veloppement avanc√©es.',
          hint: 'Pour la d√©mo du hackathon, le code est "DEMO2024".',
        },
        input: {
          label: 'Code Ma√Ætre',
          placeholder: 'Entrez le code ici',
        },
        benefits: {
          title: 'Avantages du compte ma√Ætre',
          item1: '‚ú® Acc√®s illimit√© aux ornements premium',
          item2: 'üé´ Tickets de r√©v√©lation illimit√©s',
          item3: 'üõ°Ô∏è Outils de mod√©ration avanc√©s',
          item4: 'üîß Acc√®s aux fonctionnalit√©s de d√©bogage',
        },
        security: {
          title: 'Note de s√©curit√©',
          text: 'Cet acc√®s est uniquement pour les besoins de d√©veloppement. Ne partagez jamais le code ma√Ætre en production.',
        },
        button: {
          loading: 'Connexion...',
          text: 'Se connecter en tant que Ma√Ætre',
        },
      },
      
      // ----------- Complete Profile -----------
      completeProfileTitle: 'Finaliser le profil',
      completeProfileSubtitle: 'Derni√®re √©tape avant l\'envol',
      error: 'Erreur',
      pseudoTooShort: 'Le pseudo doit contenir au moins 2 caract√®res.',
      profileCompletedTitle: 'Profil finalis√© !',
      profileCompletedMessage: 'Votre profil est maintenant complet. Vous √™tes pr√™t(e) √† vous envoler !',
      start: 'Commencer',
      unexpectedError: 'Une erreur inattendue est survenue.',
      skipStepTitle: 'Passer cette √©tape ?',
      skipStepMessage: 'Vous pouvez finaliser votre pseudo plus tard dans les param√®tres. Souhaitez-vous continuer sans pseudo ?',
      stayHere: 'Rester ici',
      skip: 'Passer',
      welcomeTitleCompleteProfile: 'F√©licitations ! üå∏',
      welcomeTextCompleteProfile: 'Votre compte a √©t√© cr√©√© avec succ√®s. Il ne reste plus qu\'une petite touche pour personnaliser votre exp√©rience.',
      yourAccount: 'Votre compte',
      contactLabel: 'Contact :',
      typeLabel: 'Type :',
      emailType: 'Email',
      phoneType: 'T√©l√©phone',
      choosePseudoTitle: 'Choisissez votre pseudo',
      pseudoDescription: 'Votre pseudo est la seule "identit√©" visible. Choisissez-le avec soin, ou laissez-le vide pour plus d\'anonymat.',
      pseudoPlaceholder: 'Votre pseudo (facultatif)',
      pseudoHint: 'Max 20 caract√®res. Modifiable plus tard dans les param√®tres.',
      accountBenefitsTitle: 'Avec votre compte, vous pouvez :',
      benefitSaveSync: 'Sauvegarder et synchroniser vos pr√©f√©rences sur tous vos appareils.',
      benefitPremiumFeatures: 'Acc√©der √† des ornements de souffle premium exclusifs.',
      benefitOfferTickets: 'Offrir des "tickets suspendus" pour soutenir la communaut√©.',
      benefitModeration: 'Participer √† la mod√©ration citoyenne pour un espace bienveillant.',
      ourPromise: 'Notre promesse',
      ethicsReminderText: 'Nous nous engageons √† prot√©ger votre vie priv√©e et √† ne jamais partager vos donn√©es personnelles.',
      finalizingProfile: 'Finalisation...',
      completeProfileButton: 'Finaliser le profil',
      skipStepButton: 'Passer cette √©tape',

      // ----------- Create Account -----------
      createAccount: {
        title: 'Cr√©er un compte',
        subtitle: 'Une nouvelle page s\'ouvre...',
        howToConnect: 'Comment souhaitez-vous vous connecter ?',
        emailLabel: 'Votre adresse email',
        phoneLabel: 'Votre num√©ro de t√©l√©phone',
        emailPlaceholder: 'exemple@domaine.com',
        phonePlaceholder: '+33612345678',
        pseudoLabel: 'Votre pseudo (facultatif)',
        pseudoHint: 'Si laiss√© vide, vous resterez enti√®rement anonyme. Vous pourrez en choisir un plus tard.',
        pseudoPlaceholder: 'Votre pseudo',
        authTitle: 'Comment fonctionne l\'authentification ?',
        authText: 'Nous vous enverrons un code √† usage unique par {{contactType}} pour v√©rifier votre identit√©. Pas de mot de passe, c\'est plus simple et plus s√©curis√©.',
        authBenefits: 'Cela nous permet de prot√©ger votre compte et de synchroniser vos donn√©es sans jamais stocker de mot de passe.',
        commitmentTitle: 'Notre engagement',
        commitment1: 'üîí S√©curit√© des donn√©es : Vos informations sont chiffr√©es et prot√©g√©es.',
        commitment2: 'üë§ Anonymat garanti : Vos souffles ne sont pas li√©s √† votre identit√© r√©elle.',
        commitment3: 'üå± Sobri√©t√© num√©rique : Pas de pub, pas d\'algorithme manipulateur.',
        submitButton: 'Cr√©er mon compte',
        submitButtonLoading: 'Cr√©ation en cours...',
        terms: 'En cr√©ant un compte, vous acceptez nos Conditions G√©n√©rales d\'Utilisation et notre Politique de Confidentialit√©.',
        errorContactRequired: 'Veuillez entrer une adresse email ou un num√©ro de t√©l√©phone.',
      },

      // ----------- Login -----------
      login: {
        title: 'Connexion',
        subtitle: 'Le retour de l\'√©cho...',
        welcomeBack: 'Heureux de vous revoir !',
        instructions: 'Veuillez entrer votre contact pour recevoir un code de connexion.',
        connectionMethod: 'Comment souhaitez-vous vous connecter ?',
        emailLabel: 'Votre adresse email',
        phoneLabel: 'Votre num√©ro de t√©l√©phone',
        emailPlaceholder: 'exemple@domaine.com',
        phonePlaceholder: '+33612345678',
        howItWorks: 'Comment √ßa marche ?',
        step1: '1. Vous entrez votre adresse {{contactType}}.',
        phone_number_text: 'num√©ro de t√©l√©phone',
        step2: '2. Nous vous envoyons un code √† usage unique par email ou SMS.',
        step3: '3. Vous entrez ce code pour vous connecter instantan√©ment.',
        needHelp: 'Besoin d\'aide ?',
        helpText: 'Si vous n\'avez pas encore de compte ou si vous rencontrez des probl√®mes de connexion, vous pouvez en cr√©er un nouveau.',
        createNewAccount: 'Cr√©er un nouveau compte',
        submitButton: 'Recevoir mon code',
        submitButtonLoading: 'Envoi du code...',
        errorContactRequired: 'Veuillez entrer une adresse email ou un num√©ro de t√©l√©phone.',
      },

      // ----------- Verify OTP -----------
      verifyOtp: {
        title: 'V√©rification',
        subtitle: 'Le murmure de l\'authentification',
        codeSentTitle: 'Code envoy√© !',
        codeSentTo: 'Nous avons envoy√© un code de v√©rification √† :',
        expiresIn: 'Il expire dans {{count}} minute(s).',
        errorIncomplete: 'Veuillez entrer le code complet √† 6 chiffres.',
        errorTitle: 'Code incorrect',
        errorMessage: 'Le code que vous avez entr√© est incorrect ou a expir√©.',
        attemptsRemaining: '{{count}} tentative(s) restante(s).',
        resendCode: 'Renvoyer le code',
        resendCodeWait: 'Renvoyer dans {{count}}s',
        resendTitle: 'Code renvoy√©',
        resendMessage: 'Un nouveau code a √©t√© envoy√©.',
        resendError: 'Impossible de renvoyer le code. R√©essayez plus tard.',
        tipsTitle: 'Conseils :',
        tips: '‚Ä¢ V√©rifiez vos spams. ‚Ä¢ Assurez-vous que votre num√©ro/email est correct. ‚Ä¢ Contactez le support si le probl√®me persiste.',
        submitButton: 'V√©rifier le code',
        submitButtonLoading: 'V√©rification...',
      },
      
      // ----------- Welcome (First Launch) -----------
      welcome: {
        feature1: { title: 'Souffles √©ph√©m√®res', description: 'D√©posez des messages qui s\'√©vaporent naturellement.' },
        feature2: { title: 'G√©olocalisation po√©tique', description: 'Chaque souffle est ancr√© √† un lieu pr√©cis.' },
        feature3: { title: 'Anonymat bienveillant', description: 'Pas de profil, pas de followers, juste l\'essentiel.' },
        feature4: { title: 'Rencontres fortuites', description: 'D√©couvrez les traces laiss√©es par d\'autres voyageurs.' },
        featuresTitle: 'L\'art du souffle num√©rique',
        ethics3Text: 'Pas de publicit√©',
        ethics4Text: 'Open source',
        startButton: 'Commencer l\'aventure',
        alreadyAccountButton: 'J\'ai d√©j√† un compte',
        developerAccess: 'Acc√®s d√©veloppeur',
        locationModalTitle: 'Activer la localisation ?',
        locationModalText: 'Silagora a besoin de votre position pour vous permettre de d√©poser et d√©couvrir des souffles autour de vous. Votre position exacte ne sera jamais enregistr√©e ni partag√©e.',
        locationModalButton: 'Oui, activer la localisation',
        locationModalSkip: 'Continuer sans localisation',
        locationSuccessTitle: 'Localisation activ√©e !',
        locationSuccessMessage: 'Vous √™tes pr√™t(e) √† explorer le monde des souffles.',
        locationDeniedTitle: 'Localisation d√©sactiv√©e',
        locationDeniedMessage: 'Certaines fonctionnalit√©s seront limit√©es sans votre position. Vous pourrez l\'activer plus tard dans les param√®tres de votre appareil.',
        audioModalTitle: 'Activer l\'exp√©rience audio ?',
        audioModalText: 'L\'audio immersif enrichit votre exploration avec des ambiances sonores contextuelles et des effets spatiaux. Une immersion po√©tique sans casque, autour de vous.',
        audioModalButton: 'Oui, activer l\'audio',
        audioModalSkip: 'Continuer sans le son',
        audioSuccessTitle: 'Audio activ√© !',
        audioSuccessMessage: 'Plongez dans l\'univers sonore de Silagora.',
        audioDeniedTitle: 'Audio d√©sactiv√©',
        audioDeniedMessage: 'L\'exp√©rience sera moins immersive sans l\'audio. Vous pourrez l\'activer √† tout moment dans les param√®tres.',
      },
    },
  },
  en: {
    translation: {
      // ----------- Shop -----------
      shop: {
        title: 'Shop',
        subtitle: 'Ornaments and features to enrich your breaths',
        item_popular: 'Popular',
        item_includes: "Included in this item",
        sections_backgrounds: 'Premium backgrounds',
        sections_tickets: 'Tickets and credits',
        ethics_title: "Our ethics",
        ethics_text: "No subscription, no pressure‚Äîpurchases only to enhance your experience.",
        legal_title: "Legal information",
        legal_text: "Purchases are valid only on this device. No data is resold.",
        login_prompt_title: "Create an account to buy",
        login_prompt_text: "Log in to enjoy premium purchases.",
        login_prompt_button: "Create account",
        item_button_buy: "Buy for {{price}}",
        item_button_offer: "Gift for {{price}}",
        item_button_processing: "Processing...",
        item_alert_account_required_title: "Account required",
        item_alert_account_required_text: "You must be logged in to buy this item.",
        item_alert_account_required_cta: "Create account",
        item_alert_thanks_title: "Thank you!",
        item_alert_thanks_text: "You‚Äôve just gifted something to the community.",
        item_alert_thanks_cta: "Close",
        item_alert_purchase_success_title: "Purchase successful",
        item_alert_purchase_success_text: "The item has been added to your inventory.",
        item_alert_purchase_success_cta: "Continue",
        item_alert_error_title: "Error",
        item_alert_error_text: "Unable to complete purchase. Please try again later.",
        items: {
          ticket_pack_5: {
            name: "5 Ticket Pack",
            description: "Unlock 5 distant reveals.",
            benefit1: "Reveal faraway breaths",
            benefit2: "Usable anywhere",
            benefit3: "Never expires",
          },
          suspended_ticket: {
            name: "Suspended ticket",
            description: "Gift a ticket to the community.",
            benefit1: "Random gift to a stranger",
            benefit2: "Appears as a present on the map",
            benefit3: "Strengthens local connection",
            benefit4: "Fosters community spirit",
          },
          background_mist: {
            name: "Mystical mist",
            description: "A misty veil for your breaths.",
            benefit1: "Exclusive design",
            benefit2: "Highlights your breaths",
            benefit3: "Ephemeral and poetic",
          },
          background_sunray: {
            name: "Sunrays",
            description: "Shine your messages with golden light.",
            benefit1: "Bright appearance",
            benefit2: "Unique effect on the map",
            benefit3: "For seasoned explorers",
          },
          background_autumn: {
            name: "Autumn leaves",
            description: "For warm, colorful breaths.",
            benefit1: "Seasonal theme",
            benefit2: "Ideal for gentle messages",
            benefit3: "Limited time only",
          },
        },
      },

      // ----------- Navigation & Tabs -----------
      tabs: {
        map: 'Map',
        dashboard: 'Dashboard',
        moderation: 'Moderation',
        about: 'About',
        settings: 'Settings',
      },

      // ----------- Main Map Screen -----------
      title: 'Silagora',
      subtitle: '"A message left in this place can only be read by those who will walk this same ground"',
      activeSouffles_one: '{{count}} active breath',
      activeSouffles_other: '{{count}} active breaths',
      read: 'contemplate',
      write: 'compose',
      locating: 'Searching for your position...',
      locationRequired: 'Location required',
      locationRequiredToExplore: 'Location required to explore',
      locationRequiredForDeposit: 'Your position is necessary to deposit a breath. Do you want to enable location?',
      approachAura: 'Approach a halo to reveal a breath...',
      chooseLocation: 'Choose a place to leave your trace...',
      retry: 'Retry',
      later: 'Later',
      activate: 'Activate',
      tooFar: 'Too far',
      tooFarDescription: 'You must approach within 15 meters to reveal this breath.',
      loadingMap: 'Preparing the watercolor map...',
      clearSimulatedSoufflesTitle: 'Clear the map?',
      clearSimulatedSoufflesMessage: 'This action will remove all simulated breaths from the map. Your own breaths will not be affected. Continue?',
      clear: 'Clear',
      mapCleared: 'Map cleared',
      mapClearedMessage: 'The simulated breaths have been erased.',

      souffleRevealedTitle: 'Souffle Revealed! ‚ú®',
      souffleRevealedMessage: 'A new message blossoms under your steps...',
      prepareContemplativeSpace: 'Preparing your contemplative space',
      locationFound: 'Location Found!',
      spaceReady: 'Your space is ready',
      locationErrorTitle: 'Location Error',
      locationErrorMessage: 'Unable to get your location',
      processing: 'Processing...',
      preparingPurchase: 'Preparing your purchase',
      purchaseSuccess: 'Purchase Successful!',
      newOrnamentsAvailable: 'Your new ornaments are available',
      purchaseErrorTitle: 'Purchase Error',
      purchaseErrorMessage: 'Unable to complete the transaction',
      cancel: 'Cancel',
      justNow: 'just now',
      minutesAgo: '{{count}} min ago',
      hoursAgo: '{{count}}h ago',
      souffleRevealed: 'Souffle Revealed',
      locationPermissionDeniedTitle: 'Location Permission Denied',
      locationPermissionDeniedMessage: 'Location permission is permanently denied. Please enable it manually in your device settings.',
      openSettings: 'Open Settings',

      // ----------- Souffle Modal (compose a breath) -----------
      depositBreath: 'Compose a breath',
      leaveYourTrace: 'Leave your trace in this place',
      anonymousMode: 'Anonymous mode',
      anonymousDepositText: 'Your breath will be deposited anonymously. It will float freely, without being linked to an identity.',
      breathPlaceholder: 'What would you like to whisper to this place?',
      charactersRemaining_one: '{{count}} character remaining',
      charactersRemaining_other: '{{count}} characters remaining',
      chosenOrnament: 'Chosen ornament:',
      addSticker: 'Add ornament',
      hideStickers: 'Hide ornaments',
      emotionsCategory: 'Emotions',
      natureCategory: 'Nature',
      objectsCategory: 'Objects',
      symbolsCategory: 'Symbols',
      premiumOrnamentsNote: '‚ú® Find suspended tickets on the map to unlock premium ornaments!',
      breathDuration: 'Breath lifespan',
      hours24: '24 hours',
      hours48: '48 hours',
      locationAnchorText: 'Your breath will be anchored to this precise location, like an invisible imprint',
      poeticQuoteSouffle: 'A breath deposited here can only be revealed by those who will tread this same ground, creating a serendipitous encounter between wandering souls.',
      depositHere: 'Deposit gently',
      depositing: 'Depositing...',
      breathDeposited: 'Breath deposited',
      breathDepositedMessage: 'Your breath has been gently deposited in this place. It will now float waiting to be discovered.',

      // ----------- Dashboard -----------
      dashboard: {
        title: 'Dashboard',
        subtitle: 'Your personal statistics',
        welcome: 'Hello, {{pseudo}} üå∏',
        anonymous: {
          title: 'Create an account to see your stats',
          text: 'Discover your poetic footprint on the map, your achievements, and your progress.',
        },
        stats: {
          created: 'Breaths Composed',
          createdSubtitle: 'Your traces left behind',
          revealed: 'Breaths Revealed',
          revealedSubtitle: 'Discoveries made',
          distance: 'Distance Walked',
          distanceSubtitle: 'While exploring',
          activeDays: 'Active Days',
          activeDaysSubtitle: 'Since the beginning',
        },
        emotion: {
          title: 'Your Signature Emotion',
          subtitle: 'The emotion you express most often',
        },
        weeklyActivity: {
          title: 'Weekly Activity',
        },
        achievements: {
          title: 'Achievements',
          subtitle: 'Unlock rewards by exploring Silagora',
          achievementUnlocked: 'Unlocked',
        },
        advancedStats: {
          title: 'Advanced Stats',
          streak: 'Longest Streak',
          streakUnit_one: '{{count}} day',
          streakUnit_other: '{{count}} days',
          places: 'Places Visited',
          achievementsCount: 'Achievements',
        },
      },

      // ----------- Emotions -----------
      emotions: {
        joyeux: 'Joyful',
        triste: 'Sad',
        colere: 'Angry',
        anxieux: 'Anxious',
        aimant: 'Loving',
        fatigue: 'Tired',
        detendu: 'Relaxed',
        pensif: 'Thoughtful',
        bouleverse: 'Upset',
        apaise: 'Calm',
        perdu: 'Lost',
        ironique: 'Ironic',
        silencieux: 'Silent',
        emu: 'Moved',
        honteux: 'Ashamed',
      },

      // ----------- Moderation -----------
      moderation: {
        title: 'Citizen Moderation',
        subtitle: 'Contribute to a benevolent space',
        approveTitle: 'Approve this breath?',
        approveMessage: 'Do you really want to approve this breath? It will then be visible to all users.',
        approveConfirm: 'Approve',
        approvedConfirmation: 'Breath approved and made visible.',
        rejectTitle: 'Reject this breath?',
        rejectMessage: 'Do you really want to reject this breath? It will be permanently hidden and removed from the map.',
        rejectConfirm: 'Reject',
        rejectedConfirmation: 'Breath rejected and hidden.',
        notAuthorizedTitle: 'Unauthorized Access',
        notAuthorizedText: 'Moderation is reserved for users with a premium account.',
        emptyQueue: 'Moderation queue is empty',
        emptyQueueSubtext: 'No flagged breaths awaiting review at the moment. All is calm!',
        refresh: 'Refresh',
        souffleId: 'Souffle ID',
        approve: 'Approve',
        reject: 'Reject',
      },

      // ----------- Settings -----------
      settings: {
        audio: {
          title: "Immersive Audio Experience",
          subtitle: "Adaptive, spatial, and contextual sounds for total immersion",
          enable: "Enable audio experience",
          volume: "Main Volume",
          theme: "Soundscape",
          immersiveFeatures: "Immersive Features",
          spatial: "Spatial Audio",
          adaptive: "Adaptive Volume",
          contextual: "Contextual Sounds",
          statusActive: "Immersive experience active",
          statusPaused: "Ambiance paused",
          description: "The immersive audio experience automatically adapts to your actions: proximity sounds when approaching a breath, a gentle ambiance during composition, and spatial effects in echo places.",
        },
        personalizeJourney: 'Personalize your contemplative journey',
        appLanguage: 'Application Language',
        languageSubtitle: 'The language in which your world breathes',
        languageDefault: 'English (default)',
        visualMode: 'Visual Mode',
        visualSubtitle: 'Is your gaze made of light or black ink?',
        enableNightMode: 'Enable night mode',
        adaptToDaylight: 'Adapt to daylight cycle',
        visualModeNote: 'üåô Visual mode will be applied on the next app restart',
        breathRadius: 'Breath Radius',
        radiusSubtitle: 'At what distance do you want the wind to hear you?',
        privacy: 'Privacy & Moderation',
        privacySubtitle: 'A safe space for every breath to flourish',
        hideExactLocation: 'Hide my exact location',
        moderatedReading: 'Moderated reading of sensitive breaths',
        participateModeration: 'Participate in citizen moderation',
        notifications: 'Notifications',
        notificationsSubtitle: 'Should an echo let you know?',
        notifyWhenRead: 'Notify me when a breath is read',
        notifyNearby: 'Notify me of new nearby breaths',
        onlyWhenMoving: 'Only when I\'m moving',
        personalHistory: 'Personal History',
        historySubtitle: 'The traces you choose to keep',
        saveDrafts: 'Keep undeposited drafts',
        keepHistory: 'See places where I breathed (7 days)',
        clearTraces: 'Clear my traces',
        aboutUs: 'About Us',
        aboutSubtitle: 'Who are we? Why this wind?',
        readManifesto: 'Read the manifesto',
        openSource: 'Open-source project',
        contactModeration: 'Contact & moderation',
        version: 'Version {{version}}',
        resetPreferences: 'Clear local preferences',
        account: 'Account',
        accountInfo: 'Your account information',
        createAccountPrompt: 'Create an account to save your preferences',
        contact: 'Contact:',
        pseudo: 'Username:',
        memberSince: 'Member since:',
        logout: 'Log out',
        logoutConfirm: 'Are you sure you want to log out?',
        createAccount: 'Create Account',
        alreadyHaveAccount: 'I already have an account',
        anonymousText: 'You are using Silagora in anonymous contemplative mode. Create an account to:',
        anonymousFeature1: '‚Ä¢ Save your preferences',
        anonymousFeature2: '‚Ä¢ Sync between devices',
        anonymousFeature3: '‚Ä¢ Access premium ornaments',
        anonymousFeature4: '‚Ä¢ Participate in benevolent moderation',
        discoverShop: 'Discover the shop',
        resetSettingsTitle: 'Start with a clean slate',
        resetSettingsMessage: 'This will erase all your settings and preferences. This action is irreversible.',
        settingsCleared: 'Settings cleared',
        settingsClearedMessage: 'All your settings have been reset to default.',
        clearTracesTitle: 'Clear my traces',
        clearTracesMessage: 'This will permanently delete all your breaths and local history.',
        tracesCleared: 'Traces cleared',
        tracesClearedMessage: 'Your local history has been deleted.',
        citizenModerationTitle: 'Citizen moderation',
        citizenModerationIntro: 'Citizen moderation allows the community to maintain a benevolent and respectful space.',
        howItWorksColon: 'How it works:',
        moderationPoint1: '‚Ä¢ Every authenticated member can report an inappropriate breath.',
        moderationPoint2: '‚Ä¢ The reported breath is temporarily hidden and submitted to AI for initial analysis.',
        moderationPoint3: '‚Ä¢ If AI confirms a problem, the breath is submitted for review by a panel of citizen moderators.',
        moderationPoint4: '‚Ä¢ A breath is permanently hidden after a certain number of reports or validation by moderators.',
        moderationCriteriaColon: 'Moderation criteria:',
        criteriaPoint1: '‚Ä¢ No hateful, discriminatory, or violent content.',
        criteriaPoint2: '‚Ä¢ No harassment, intimidation, or threats.',
        criteriaPoint3: '‚Ä¢ No advertising, spam, or promotional content.',
        criteriaPoint4: '‚Ä¢ No disclosure of personal information (phone, email, address, etc.).',
        moderationParticipationNote: 'Your participation is voluntary and contributes to a safer space for everyone.',
        understood: 'Understood',
        shop: 'Shop',
      },

      // ----------- About -----------
      about: {
        title: 'About Silagora',
        etymology: 'from latin "silere" (to be silent) and greek "agora" (public square)',
        description: 'A sensitive map of anonymous, free, and geolocated human expression.',
        philosophy: {
          title: 'Our Philosophy',
          text1: 'In a world saturated with digital noise, Silagora offers a space for silence and contemplation. Each deposited breath is an ephemeral trace, a whisper in space and time.',
          text2: 'We believe in the beauty of anonymity, the poetry of the temporary, and the magic of serendipitous encounters.',
        },
        howItWorks: {
          title: 'How It Works',
          step1: { title: 'Compose a Breath', text: 'Write a short message (max 280 characters) and gently deposit it at your current location. Add an ornament to enrich your expression.' },
          step2: { title: 'Explore the Watercolor Map', text: 'Discover the translucent halos floating around you. Each bubble hides a breath left by another traveler.' },
          step3: { title: 'Reveal Breaths', text: 'Physically approach a halo (within a 15-meter radius) to reveal the message it contains.' },
        },
        ephemeral: {
          title: 'The Art of the Ephemeral',
          text1: 'Each breath has a limited lifespan: 24 or 48 hours. After this time, it naturally evaporates, making way for new whispers.',
          text2: 'This temporality encourages spontaneity and preserves the freshness of each discovery.',
        },
        echoPlaces: {
          title: 'Echo Places',
          text: 'When several breaths intersect at the same location, an Echo Place is born. These special areas become poetic crossroads where voices mingle.',
        },
        ethics: {
          title: 'Our Ethics',
          point1: '‚Ä¢ Total anonymity: no profiles, no tracking',
          point1Short: 'Total anonymity',
          point2: '‚Ä¢ No likes, shares, or statistics',
          point3: '‚Ä¢ Benevolent community moderation',
          point4: '‚Ä¢ Respect for privacy and data',
          point5: '‚Ä¢ Digital sobriety and contemplative design',
          point5Short: 'Digital sobriety',
        },
        contact: {
          title: 'Contact Us',
          email: 'contact@silagora.app',
          openSource: 'Open-source project',
        },
        quote: {
          text: '"In the silence of the digital agora, each breath becomes a fleeting star guiding wandering souls to unexpected encounters."',
          author: 'The Silagora Team',
        },
        version: 'Version {{version}}',
        hackathonCredit: 'Made with üíô for the Bolt Hackathon ‚Ä¢ June 2025',
      },

      // ADDED COMMON SECTION
      common: {
        tooFarToRevealTitle: "Too Far to Reveal",
        tooFarToRevealMessage: "You are {{distance}}m away. To reveal this breath, you need to be closer or use one of your {{ticketCount}} tickets.",
        useOneTicket: "Use 1 Ticket",
        cancel: "Cancel",
        souffleRevealed: "Breath Revealed!",
        ticketsRemaining_one: "{{count}} ticket left.",
        ticketsRemaining_other: "{{count}} tickets left.",
        ticketsExhausted: "No Tickets Left",
        visitShopForMoreTickets: "Visit the shop to get more tickets.",
        functionalityReserved: "Reserved Functionality",
        accountRequiredForDistantReveal: "Distant revealing requires an account to manage your tickets."
      },

      // ----------- Achievements -----------
      achievements: {
        first_souffle: {
          title: 'First Breath',
          description: 'Deposit your first breath',
        },
        explorer: {
          title: 'Explorer',
          description: 'Reveal 10 breaths',
        },
        poet: {
          title: 'Urban Poet',
          description: 'Create 25 breaths',
        },
        wanderer: {
          title: 'Wanderer',
          description: 'Walk 10 km while exploring',
        },
        consistent: {
          title: 'Consistent',
          description: 'Use Silagora for 7 consecutive days',
        },
        social: {
          title: 'Connector',
          description: 'Reveal breaths in 5 different places',
        },
      },

      // ----------- Master Login -----------
      masterLogin: {
        title: 'Master Access',
        subtitle: 'Developer Zone Only',
        error: {
          emptyCode: 'Please enter the master code.',
          incorrectCode: 'Incorrect master code. Access denied.',
          creationFailed: 'Failed to create master account.',
        },
        success: {
          title: 'Master Access Granted',
          message: 'Welcome, Developer! Your master account has been activated with full privileges.',
        },
        instructions: {
          title: 'Developer Authentication',
          text: 'Please enter the provided master code to access advanced development features.',
          hint: 'For the hackathon demo, the code is "DEMO2024".',
        },
        input: {
          label: 'Master Code',
          placeholder: 'Enter code here',
        },
        benefits: {
          title: 'Master Account Benefits',
          item1: '‚ú® Unlimited access to premium ornaments',
          item2: 'üé´ Unlimited reveal tickets',
          item3: 'üõ°Ô∏è Advanced moderation tools',
          item4: 'üîß Access to debugging features',
        },
        security: {
          title: 'Security Note',
          text: 'This access is for development purposes only. Never share the master code in production.',
        },
        button: {
          loading: 'Connecting...',
          text: 'Login as Master',
        },
      },

      // ----------- Complete Profile -----------
      completeProfileTitle: 'Complete Profile',
      completeProfileSubtitle: 'Final step before takeoff',
      error: 'Error',
      pseudoTooShort: 'Pseudo must be at least 2 characters long.',
      profileCompletedTitle: 'Profile Completed!',
      profileCompletedMessage: 'Your profile is now complete. You\'re ready for takeoff!',
      start: 'Start',
      unexpectedError: 'An unexpected error occurred.',
      skipStepTitle: 'Skip this step?',
      skipStepMessage: 'You can finalize your pseudo later in settings. Do you want to continue without a pseudo?',
      stayHere: 'Stay here',
      skip: 'Skip',
      welcomeTitleCompleteProfile: 'Congratulations! üå∏',
      welcomeTextCompleteProfile: 'Your account has been successfully created. Just one more touch to personalize your experience.',
      yourAccount: 'Your Account',
      contactLabel: 'Contact:',
      typeLabel: 'Type:',
      emailType: 'Email',
      phoneType: 'Phone',
      choosePseudoTitle: 'Choose Your Pseudo',
      pseudoDescription: 'Your pseudo is the only visible "identity". Choose it carefully, or leave it blank for more anonymity.',
      pseudoPlaceholder: 'Your pseudo (optional)',
      pseudoHint: 'Max 20 characters. Can be changed later in settings.',
      accountBenefitsTitle: 'With your account, you can:',
      benefitSaveSync: 'Save and sync your preferences across all your devices.',
      benefitPremiumFeatures: 'Access exclusive premium breath ornaments.',
      benefitOfferTickets: 'Offer "suspended tickets" to support the community.',
      benefitModeration: 'Participate in citizen moderation for a benevolent space.',
      ourPromise: 'Our Promise',
      ethicsReminderText: 'We are committed to protecting your privacy and will never share your personal data.',
      finalizingProfile: 'Finalizing...',
      completeProfileButton: 'Complete Profile',
      skipStepButton: 'Skip this step',

      // ----------- Create Account -----------
      createAccount: {
        title: 'Create Account',
        subtitle: 'A new page opens...',
        howToConnect: 'How do you want to connect?',
        emailLabel: 'Your email address',
        phoneLabel: 'Your phone number',
        emailPlaceholder: 'example@domain.com',
        phonePlaceholder: '+1234567890',
        pseudoLabel: 'Your pseudo (optional)',
        pseudoHint: 'If left blank, you will remain completely anonymous. You can choose one later.',
        pseudoPlaceholder: 'Your pseudo',
        authTitle: 'How does authentication work?',
        authText: 'We will send you a one-time code via {{contactType}} to verify your identity. No password, it\'s simpler and more secure.',
        authBenefits: 'This allows us to protect your account and sync your data without ever storing a password.',
        commitmentTitle: 'Our commitment',
        commitment1: 'üîí Data security: Your information is encrypted and protected.',
        commitment2: 'üë§ Anonymity guaranteed: Your breaths are not linked to your real identity.',
        commitment3: 'üå± Digital sobriety: No ads, no manipulative algorithms.',
        submitButton: 'Create My Account',
        submitButtonLoading: 'Creating account...',
        terms: 'By creating an account, you agree to our Terms of Service and Privacy Policy.',
        errorContactRequired: 'Please enter an email address or phone number.',
      },

      // ----------- Login -----------
      login: {
        title: 'Login',
        subtitle: 'The echo returns...',
        welcomeBack: 'Welcome back!',
        instructions: 'Please enter your contact to receive a login code.',
        connectionMethod: 'How do you want to connect?',
        emailLabel: 'Your email address',
        phoneLabel: 'Your phone number',
        emailPlaceholder: 'example@domain.com',
        phonePlaceholder: '+1234567890',
        howItWorks: 'How it works?',
        step1: '1. You enter your {{contactType}}.',
        phone_number_text: 'phone number',
        step2: '2. We send you a one-time code by email or SMS.',
        step3: '3. You enter this code to log in instantly.',
        needHelp: 'Need help?',
        helpText: 'If you don\'t have an account yet or are experiencing login issues, you can create a new one.',
        createNewAccount: 'Create New Account',
        submitButton: 'Get My Code',
        submitButtonLoading: 'Sending code...',
        errorContactRequired: 'Please enter an email address or phone number.',
      },

      // ----------- Verify OTP -----------
      verifyOtp: {
        title: 'Verification',
        subtitle: 'The whisper of authentication',
        codeSentTitle: 'Code sent!',
        codeSentTo: 'We have sent a verification code to:',
        expiresIn: 'It expires in {{count}} minute(s).',
        errorIncomplete: 'Please enter the complete 6-digit code.',
        errorTitle: 'Incorrect Code',
        errorMessage: 'The code you entered is incorrect or has expired.',
        attemptsRemaining: '{{count}} attempt(s) remaining.',
        resendCode: 'Resend Code',
        resendCodeWait: 'Resend in {{count}}s',
        resendTitle: 'Code Resent',
        resendMessage: 'A new code has been sent.',
        resendError: 'Could not resend code. Please try again later.',
        tipsTitle: 'Tips:',
        tips: '‚Ä¢ Check your spam folder. ‚Ä¢ Make sure your number/email is correct. ‚Ä¢ Contact support if the problem persists.',
        submitButton: 'Verify Code',
        submitButtonLoading: 'Verifying...',
      },

      // ----------- Welcome (First Launch) -----------
      welcome: {
        feature1: { title: 'Ephemeral breaths', description: 'Leave messages that naturally vanish.' },
        feature2: { title: 'Poetic geolocation', description: 'Each breath is anchored to a specific place.' },
        feature3: { title: 'Benevolent anonymity', description: 'No profiles, no followers, just the essence.' },
        feature4: { title: 'Serendipitous encounters', description: 'Discover traces left by other travelers.' },
        featuresTitle: 'The art of the digital breath',
        ethics3Text: 'No advertising',
        ethics4Text: 'Open source',
        startButton: 'Start the adventure',
        alreadyAccountButton: 'I already have an account',
        developerAccess: 'Developer Access',
        locationModalTitle: 'Enable Location?',
        locationModalText: 'Silagora needs your location to allow you to deposit and discover breaths around you. Your exact location will never be recorded or shared.',
        locationModalButton: 'Yes, enable location',
        locationModalSkip: 'Continue without location',
        locationSuccessTitle: 'Location Enabled!',
        locationSuccessMessage: 'You are ready to explore the world of breaths.',
        locationDeniedTitle: 'Location Disabled',
        locationDeniedMessage: 'Some features will be limited without your location. You can enable it later in your device settings.',
        audioModalTitle: 'Enable Audio Experience?',
        audioModalText: 'Immersive audio enriches your exploration with contextual soundscapes and spatial effects. A poetic immersion without headphones, all around you.',
        audioModalButton: 'Yes, enable audio',
        audioModalSkip: 'Continue without sound',
        audioSuccessTitle: 'Audio Enabled!',
        audioSuccessMessage: 'Dive into Silagora\'s sound world.',
        audioDeniedTitle: 'Audio Disabled',
        audioDeniedMessage: 'The experience will be less immersive without audio. You can enable it anytime in settings.',
      },
    },
  },
};

const availableLanguages = [
  { code: 'fr', name: 'French', native: 'Fran√ßais' },
  { code: 'en', name: 'English', native: 'English' }
];

const LanguageContext = createContext<any>(null);

export function LanguageProvider({ children }: { children: ReactNode }) {
  const [language, setLanguage] = useState('fr');

  useEffect(() => {
    const loadLang = async () => {
      const savedLang = await AsyncStorage.getItem('@souffle:language');
      if (savedLang && ['fr', 'en'].includes(savedLang)) {
        setLanguage(savedLang);
        i18n.changeLanguage(savedLang);
      }
    };
    loadLang();
  }, []);

  useEffect(() => {
    i18n
      .use(initReactI18next)
      .init({
        resources,
        lng: language,
        fallbackLng: 'fr',
        compatibilityJSON: 'v3',
        interpolation: {
          escapeValue: false,
        },
      });
  }, [language]);

  const changeLanguage = async (lang: string) => {
    if (['fr', 'en'].includes(lang)) {
      setLanguage(lang);
      i18n.changeLanguage(lang);
      await AsyncStorage.setItem('@souffle:language', lang);
    }
  };

  return (
    <LanguageContext.Provider value={{
      language,
      setLanguage: changeLanguage,
      t: i18n.t.bind(i18n),
      currentLanguage: language,
      changeLanguage,
      availableLanguages,
    }}>
      {children}
    </LanguageContext.Provider>
  );
}

export function useLanguage() {
  return useContext(LanguageContext);
}